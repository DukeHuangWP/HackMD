<style>



  /*--------------- view ---------------*/
  body[style],
  body[style*="background-color: white;"] {
    background-color: #444444 !important;
  }

  body {
    color: #abb2bf;
  }

}

  .ui-view-area,
  .markdown-body,
  .ui-content {
    background: #444444;
    color: #abb2bf;
  }
  



  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  p {
    color: #ddd;
  }

  hr  {
    border-color: #6d6d6d;
  }
  .part code{
    background-color: #999900;
  }

  /* form */
  .form-control {
    background: #333;
    color: #fff;

  }

  .form-control::placeholder,
  .form-control::-webkit-input-placeholder,
  .form-control:-moz-placeholder,
  .form-control::-moz-placeholder,
  .form-control:-ms-input-placeholder {
    color: #eee;
  }

  /*--------------- navbar ---------------*/
  .header,
  .navbar {
    background-color: #0e0e0e;
    border-color: #0e0e0e;
  }

  .navbar a {
    color: #eee !important;
  }

  .navbar .btn-group label {
    background-color: #0e0e0e;
    color: #eee;
    border-color: #555;
  }

  .navbar .btn-group label.btn-default:focus,
  .navbar .btn-group label.btn-default:hover {
    background-color: #2a2a2a;
    color: #eee;
    border-color: #555;
  }


  .navbar .btn-group label.active,
  .navbar .btn-group label.active:focus,
  .navbar .btn-group label.active:hover {
    background-color: #555;
    color: #eee;
    border-color: #555;
  }

  .navbar-default .btn-link:focus,
  .navbar-default .btn-link:hover {
    color: #eee;
  }

  .navbar-default .navbar-nav>.open>a,
  .navbar-default .navbar-nav>.open>a:focus,
  .navbar-default .navbar-nav>.open>a:hover {
    background-color: #555;
  }

  .dropdown-header {
    color: #aaa;
  }

  .dropdown-menu {
    background-color: #222;
    border: 1px solid #555;
    border-top: none;
  }

  .dropdown-menu>li>a {
    color: #eee;
  }

  .dropdown-menu>li>a:focus,
  .dropdown-menu>li>a:hover {
    background-color: #555555;
    color: #eee;
  }

  .dropdown-menu .divider {
    background-color: #555;
  }

  .header .open .dropdown-menu {
    background-color: #202020;
  }

  .navbar .announcement-popover {
    background: #4F4F4F;
  }

  .navbar .announcement-popover .announcement-popover-header {
    background: #2e2e2e;
    border-bottom: 1px solid #2e2e2e;
  }

  .navbar .announcement-popover .announcement-popover-body {
    background: #4F4F4F;
    color: #eee;
  }

  .navbar .announcement-popover .announcement-popover-footer {
    background: #4F4F4F;
  }

  .navbar .announcement-area .caption.inverse {
    color: #eee;
  }

  .label-warning {
    background-color: #ffc107;
    color: #212529;
  }

  /*--------------- history / recent ---------------*/
  .list.row-layout li .item {
    border-color: #696c7d;
  }

  .list.row-layout li:nth-last-of-type(1) .item {
    border-bottom: none;
  }

  .list li .item {
    background: #1c1c1c;
  }

  .list li:hover .item,
  .list li:focus .item {
    background: #404040;
  }

  .list li .item h4 {
    color: #fff;
  }

  .list li p {
    color: #ccc;
  }

  .list li p i {
    font-style: normal;
  }

  .list li .item .content .tags span {
    background: #555;
  }

  .list li .item.wide .content .title a,
  .list li .item.wide .content .title a:focus,
  .list li .item.wide .content .title a:hover {
    color: #ddd;
  }

  .ui-item {
    color: #fff;
    opacity: 0.7;
  }

  .ui-item:hover,
  .ui-item:focus {
    opacity: 1;
    color: #fff;
  }

  .list li .item.wide hr {
    border-color: #6d6d6d;
  }

  .overview-widget-group .btn,
  .multi-select-dropdown-menu .ui-dropdown-label,
  .multi-select-dropdown-menu .dropdown-options,
  .form-control {
    border-color: #6d6d6d;
  }

  .multi-select-dropdown-menu .dropdown-options .ui-option:hover {
    background-color: #4d4d4d;
    color: #eee;
  }

  #overview-control-form #overview-keyword-input-container .select2-container {
    background-color: #3e4045 !important;
  }

  #overview-control-form #overview-keyword-input-container .select2-container .select2-choices {
    background-color: #3e4045;
  }

  .search {
    background-color: #3e4045;
    color: #eee;
  }

  .btn.btn-gray {
    background: #1b1b1b;
  }

  .btn.btn-gray:hover {
    background: #4d4d4d;
    color: #eee;
  }

  .search::placeholder,
  .search::-webkit-input-placeholder,
  .search:-moz-placeholder,
  .search::-moz-placeholder,
  .search:-ms-input-placeholder {
    color: #eee;
  }

  .btn.btn-gray {
    border-color: #6d6d6d;
    background: #333;
    color: #eee;
  }

  .select2-default {
    color: #eee !important;
  }

  .select2-results .select2-highlighted {
    background: #4d4d4d;
    color: #eee;
  }

  .select2-container-multi .select2-choices {
    background: #3e4045;
  }

  .select2-container-multi .select2-choices .select2-search-choice {
    background: #131313;
    color: #eee;
    border-color: #555;
    box-shadow: none;
  }

  .btn-default,
  .btn-default:focus {
    color: #eee;
    background-color: #2e2e2e;
    border-color: #6a6a6a;
  }

  .btn-default.active.focus,
  .btn-default.active:focus,
  .btn-default.active:hover,
  .btn-default:active.focus,
  .btn-default:active:focus,
  .btn-default:active:hover,
  .open>.dropdown-toggle.btn-default.focus,
  .open>.dropdown-toggle.btn-default:focus,
  .open>.dropdown-toggle.btn-default:hover {
    background: #737373;
  }

  .btn-default:hover {
    color: #fff;
    background-color: #7d7d7d;
    border-color: #6a6a6a;
  }

  .overview-widget-group .btn.active {
    background-color: #6a6a6a;
    color: #eee;
  }

  .overview-widget-group .btn:hover {
    background-color: #7d7d7d;
    color: #eee;
    border-color: #636363;
  }

  .overview-widget-group .slider.round {
    border-color: #ccc;
  }

  .overview-widget-group .slider.round:before {
    border-color: #ccc;
  }

  .overview-widget-group input:checked+.slider {
    background-color: #ccc;
  }

  .ui-category-description-icon a {
    color: #eee;
  }

  .item .ui-history-pin.active {
    color: #f00;
  }

  .ui-history-close {
    color: #eee;
    opacity: 0.5;
  }

  .pagination>li>a,
  .pagination>li>span {
    color: #eee;
    background-color: #2e2e2e;
    border-color: #6a6a6a;
  }

  .pagination>li>a:hover {
    color: #fff;
    background-color: #7d7d7d;
    border-color: #6a6a6a;
  }

  .pagination>.disabled>a,
  .pagination>.disabled>a:focus,
  .pagination>.disabled>a:hover,
  .pagination>.disabled>span,
  .pagination>.disabled>span:focus,
  .pagination>.disabled>span:hover {
    color: #eee;
    background-color: #2e2e2e;
    border-color: #6a6a6a;
  }

  .pagination.dark>li>a,
  .pagination.dark>li>span {
    color: #aaa;
  }

  /*--------------- settings ---------------*/
  .section .form-horizontal .form-group .btn-default {
    font-size: 16px;
    border-color: #6d6d6d;
    background-color: #333;
    color: #FFF;
  }

  .section .form-horizontal .form-group .btn-default:hover,
  .section .form-horizontal .form-group .btn-default:focus {
    background-color: #737373;
    color: #FFF;
  }

  .section .form-horizontal .form-control:focus {
    border-color: #bbb;
  }

  /*--------------- share view ---------------*/
  #notificationLabel,
  .ui-infobar .btn.ui-edit {
    color: #eee;
    border-color: #6a6a6a;
  }

  .ui-infobar__user-info li {
    color: #bbb;
  }

  footer {
    background: #101010;
    color: #bbb;
    border-top: 1px solid #454545;
  }

  footer a {
    color: #bbb;
  }

  /*--------------- doc view ---------------*/
  .markdown-body h1,
  .markdown-body h2,
  .markdown-body h3,
  .markdown-body h4,
  .markdown-body h5,
  .markdown-body h6,
  .markdown-body hr,
  #doc>h1 {
    color: #ddd;
    border-color: #777 !important;
  }

  .h1 .small,
  .h1 small,
  .h2 .small,
  .h2 small,
  .h3 .small,
  .h3 small,
  .h4 .small,
  .h4 small,
  .h5 .small,
  .h5 small,
  .h6 .small,
  .h6 small,
  h1 .small,
  h1 small,
  h2 .small,
  h2 small,
  h3 .small,
  h3 small,
  h4 .small,
  h4 small,
  h5 .small,
  h5 small,
  h6 .small,
  h6 small {
    color: #ddd;
  }

  .markdown-body p {
    color: #ddd;
  }

  .markdown-body a {
    color: #7bf;
  }

  .markdown-body a code {
    color: #7bf !important;
  }

  .markdown-body ul li,
  .markdown-body ol li {
    color: #ddd;
  }

  .markdown-body blockquote {
    color: #ddd;
    border-left-color: #777;
    font-size: 16px;
  }

  <--.markdown-body code,
  code {
    color: #dfdfdf !important;
    background-color: #424a55;
  }-->

  .markdown-body pre {
    background-color: #1e1e1e;
    border: 1px solid #555 !important;
    color: #dfdfdf;
  }

  blockquote .small,
  blockquote footer,
  blockquote small {
    color: #bbb;
  }

  .mark,
  mark {
    background-color: rgba(255, 255, 0, 0.32) !important;
    color: #ddd;
    margin: .1em;
    padding: .1em .2em;
  }

  /* Todo list */
  .task-list-item-checkbox {
    margin: 0.18em 0 0.2em -1.3em !important;
  }

  .task-list-item input[type=checkbox] {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    position: relative;
    top: -1px;
    margin: 0 1rem 0 0;
    cursor: pointer;
  }

  .task-list-item input[type=checkbox]::before {
    -webkit-transition: all 0.1s ease-in-out;
    -moz-transition: all 0.1s ease-in-out;
    transition: all 0.1s ease-in-out;
    content: "";
    position: absolute;
    left: 0;
    z-index: 1;
    width: 16px;
    height: 16px;
    border: 2px solid #F44336;
  }

  .task-list-item input[type=checkbox]:checked::before {
    -webkit-transform: rotate(-48deg);
    -moz-transform: rotate(-48deg);
    -ms-transform: rotate(-48deg);
    -o-transform: rotate(-48deg);
    transform: rotate(-48deg);
    height: 9px;
    border-color: #00E676;
    border-top-style: none;
    border-right-style: none;
  }

  .task-list-item input[type=checkbox]::after {
    content: "";
    position: absolute;
    top: -0.125rem;
    left: 0;
    width: 16px;
    height: 16px;
    background: #333;
    cursor: pointer;
  }

  /* table */
  .markdown-body table tr {
    background-color: #1e1e1e;
    border-top: none;
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
  }

  .markdown-body table tr:first-child {
    border-top: 1px solid rgba(255, 255, 255, 0.2);
  }

  .markdown-body table tr:nth-child(2n) {
    background-color: #333;
  }

  .markdown-body table tr th {
    color: #64B5F6;
  }

  .markdown-body table th,
  .markdown-body table td {
    border: none;
  }

  .markdown-body table tr th:first-child,
  .markdown-body table tr td:first-child {
    border-left: 1px solid rgba(255, 255, 255, 0.1);
  }

  .markdown-body table tr th:last-child,
  .markdown-body table tr td:last-child {
    border-right: 1px solid rgba(255, 255, 255, 0.1);
  }

  .markdown-body table tr td {
    color: #ddd;
  }



  .markdown-body pre.flow-chart,
  .markdown-body pre.sequence-diagram,
  .markdown-body pre.graphviz,
  .markdown-body pre.mermaid,
  .markdown-body pre.abc {
    background-color: #1e1e1e;
    color: #ddd;



  }
              .markdown-body pre.gri {
                stroke: lightgrey;
                opacity: 0.3;
                shape-rendering: crispEdges;
            }
            .markdown-body pre.grid path {
                stroke-width: 0;
            }
  


  /* alert */
  .alert h1,
  .alert h2,
  .alert h3,
  .alert h4,
  .alert h5,
  .alert h6,
  .alert p,
  .alert ul li,
  .alert ol li {
    color: #31708f;
  }

  .alert a {
    color: #002752;
    font-weight: 700;
  }

  .alert h1:first-child,
  .alert h2:first-child,
  .alert h3:first-child,
  .alert h4:first-child,
  .alert h5:first-child,
  .alert h6:first-child {
    margin-top: 0;
  }

  .markdown-body .alert>p {
    margin-top: 0px;
    margin-bottom: 10px;
  }

  .markdown-body .alert>ul,
  .markdown-body .alert>ol {
    margin-bottom: 16px;
  }

  .markdown-body .alert>*:last-child {
    margin-bottom: 0;
  }

  .alert-warning {
    background-color: #fff3cd;
    border-color: #ffeeba;
  }

  /* scroll bar */
  .ui-edit-area .ui-resizable-handle.ui-resizable-e {
    background-color: #303030;
    border: 1px solid #303030;
    box-shadow: none;
  }

  /* info bar */
  .ui-infobar {
    color: #999;
  }

  /* permission */
  .permission-popover-btn-group .btn.focus,
  .permission-popover-btn-group .btn:active,
  .permission-popover-btn-group .btn:focus,
  .permission-popover-btn-group .btn.active {
    background-color: #6a6a6a !important;
    color: #eee !important;
    border-color: #555 !important;
  }

  .permission-popover-btn-group .btn:hover,
  .permission-popover-btn-group .btn.active:hover {
    background-color: #7d7d7d !important;
    color: #eee !important;
    border-color: #636363 !important;
  }

  .ui-delete-note a:hover,
  .ui-delete-note a:focus,
  .ui-delete-note a:active {
    background-color: #dc3545 !important;
  }

  .ui-invitee-invite {
    border-color: #6a6a6a !important;
  }

  .ui-invitee-invite:hover,
  .ui-invitee-invite:focus {
    background-color: #737373;
    color: #eee !important;
  }

  .ui-invitee.ui-invitee-list .ui-invitee-remove,
  .ui-invitee.ui-invitee-list .ui-invitee-remove:hover,
  .ui-invitee.ui-invitee-list .ui-invitee-remove:focus,
  .ui-invitee.ui-invitee-list .ui-invitee-remove:active {
    background-color: #dc3545;
    border: 1px solid #dc3545;
  }

  .select2-container {
    background: #202020;
  }

  .select2-container-multi .select2-choices .select2-search-field input {
    color: #eee;
  }

  .select2-container-multi .select2-choices .select2-search-field input.select2-active {
    color: #000;
  }

  .select2-drop {
    background: #202020;
    color: #eee;
  }

  .select2-results .select2-no-results,
  .select2-results .select2-searching,
  .select2-results .select2-ajax-error,
  .select2-results .select2-selection-limit {
    background: #202020;
  }

  /* table of contents block*/
  .ui-toc-dropdown {
    width: 42vw;
    max-height: 90vh;
    overflow: auto;
    text-align: inherit;
  }

  /* table of contents text*/
  .ui-toc-dropdown .nav>li>a {
    font-size: 14px;
    font-weight: bold;
    color: #ddd;
  }

  /* table of contents text: active*/
  .ui-toc-dropdown .nav>.active:focus>a,
  .ui-toc-dropdown .nav>.active:hover>a,
  .ui-toc-dropdown .nav>.active>a {
    color: #7bf;
    border-left-color: #7bf;
  }

  /* table of contents text: focus, hover*/
  .ui-toc-dropdown .nav>li>a:focus,
  .ui-toc-dropdown .nav>li>a:hover {
    color: #7bf;
    border-left-color: #7bf;
  }

  /* drop down floating table of contents */
  .ui-toc-dropdown.dropdown-menu {
    background: #333;
  }

  .toc-menu a {
    color: #ddd;
  }

  .toc-menu a:focus,
  .toc-menu a:hover {
    color: #7bf;
  }


  /*--------------- editor ---------------*/
  .cm-m-markdown {
    color: #ddd;
  }

  .cm-s-one-dark .cm-header,
  .cm-m-xml.cm-attribute {
    color: #ffa653;
  }

  .cm-s-one-dark .cm-string,
  .cm-s-one-dark .cm-variable-2 {
    color: #7bf;
  }

  .cm-m-markdown.cm-variable-3 {
    color: #ff7e7e;
  }

  .cm-s-one-dark .cm-link {
    color: #b0ee83;
  }

  .cm-s-one-dark .CodeMirror-linenumber {
    color: #666;
  }

  .cm-strong {
    color: #f4511e;
  }

  .cm-s-one-dark .cm-comment {
    color: #a9a9a9;
  }

  .cm-matchhighlight {
    color: #ffea00;
  }

  .cm-positive {
    color: #11bf64;
  }

  .cm-negative {
    color: #ff3e3e;
  }

  .dropdown-menu.CodeMirror-other-cursor {
    border: 2px solid #4d4d4d;
    background-color: #202020;
  }

  .dropdown-menu.CodeMirror-other-cursor li a {
    color: #ececec;
  }

  /*--------------- book mode ---------------*/
  .topbar {
    background: #1e1e1e;
  }

  .btn.focus,
  .btn:focus,
  .btn:hover {
    color: #aaa;
  }

  .summary {
    background: #1e1e1e;
  }

  .summary,
  .toolbar {
    background: #1e1e1e !important;
    border-color: #4d4d4d !important;
  }

  .toolbar i {
    color: #fff;
  }

  .summary h1,
  .summary h2,
  .summary h3 .summary hr {
    color: #ddd;
    border-color: #777 !important;
  }

  .summary .nav>li>a {
    color: #7bf;
  }

  .summary .nav-pills>li.active>a,
  .summary .nav-pills>li.active>a:focus,
  .summary .nav-pills>li.active>a:hover {
    color: #ff9100;
  }

  .ui-summary-search {
    font-size: 16px;
    border: 1px solid #6D6D6D;
    background-color: #333;
    color: #FFF;
  }

  .summary h1,
  .summary h2,
  .summary h3,
  .summary h4,
  .summary h5,
  .summary h6 {
    border-color: #454545;
  }

  /* fix body background color to dark */
  div[class$=container-mask] {
    background: #1e1e1e;
    z-index: 1;
    display: block;
  }

  /* notification */
  .dropdown.ui-notification .ui-notification-label,
  .dropdown.ui-invitee .ui-invitee-label {
    color: #eee;
    border-color: #6a6a6a;
  }

  .ui-notification .dropdown-menu {
    border-top: 1px solid #555;
  }

  /*--------------- help ---------------*/
  .modal-header {
    background-color: #2a2a2a;
  }

  .panel-default {
    border-color: #6d6d6d;
  }

  .panel-default>.panel-heading {
    background-color: #2a2a2a;
    color: #eee;
    border-color: #6d6d6d;
  }

  .panel-body {
    background: #2e2e2e;
  }

  .panel-body a {
    color: #7bf;
  }

  .table>tbody>tr>td,
  .table>tbody>tr>th,
  .table>tfoot>tr>td,
  .table>tfoot>tr>th,
  .table>thead>tr>td,
  .table>thead>tr>th {
    border-color: #6d6d6d;
  }

  /*--------------- comment ---------------*/
  .ui-comment-container .ui-comment-header {
    background-color: #2a2a2a;
    color: #eee;
    border-color: #6d6d6d;
  }

  .ui-comment-container {
    background-color: #2e2e2e;
    border-color: #6d6d6d;
  }

  .ui-comment-container .ui-comments-container .ui-comment .comment-author {
    color: #eee;
  }

  .ui-comment-container .ui-comments-container .ui-comment .timestamp {
    color: #aaa;
  }

  .ui-comment-container .ui-comments-container .ui-comment .comment-content {
    color: #eee;
  }

  .ui-comment-container .ui-comments-container .ui-comment .comment-menu {
    color: #eee;
  }

  .ui-comment-container .ui-comments-container .ui-comment .comment-menu .comment-dropdown-menu {
    background: #222;
    color: #eee;
    border-color: #555;
  }

  .ui-comment-container .ui-comments-container .ui-comment .comment-menu .comment-dropdown-menu>div:hover {
    background-color: #555555;
    color: #eee;
  }

  .ui-comment-container .ui-comments-container .ui-comment .comment-menu:hover,
  .ui-comment-container .ui-comments-container .ui-comment .comment-menu:active,
  .ui-comment-container .ui-comments-container .ui-comment .comment-menu.active {
    background-color: #737373;
    color: #eee;
  }

  .ui-comment-container .ui-comment-input-container {
    background-color: #3c3c3c;
  }

  .ui-comment-container textarea {
    background-color: #3e4045;
    color: #eee;
    border: 1px solid #6d6d6d;
  }

  .ui-comment-container textarea::placeholder,
  .ui-comment-container textarea::-webkit-input-placeholder,
  .ui-comment-container textarea:-moz-placeholder,
  .ui-comment-container textarea::-moz-placeholder,
  .ui-comment-container textarea:-ms-input-placeholder {
    color: #eee;
  }

  @keyframes highlight {
    0% {
      background-color: #3c3c3c;
    }

    30% {
      background-color: #3c3c3c;
    }

    100% {
      background-color: transparent;
    }
  }

  /*--------------- template ---------------*/
  .template-content .modal-header {
    background: #2a2a2a;
  }

  .template-content .close {
    color: #fff;
  }

  .template-content .modal-title {
    color: #eee;
  }

  .template-content .ui-templates-container {
    border-color: #6d6d6d;
  }

  .ui-templates-container .ui-create-template-btn {
    background: #446fab;
    color: #fff;
  }

  .ui-template-list-filter .ui-template-list-filter-label,
  .ui-template-list-filter .ui-template-list-filter-label:hover {
    color: #eee;
  }

  .ui-template-list .list-group-item.active {
    background: #4d4d4d;
  }

  .ui-template-list .list-group-item.active:focus {
    background: #4d4d4d !important;
  }

  .list-group-item.active,
  .list-group-item.active:focus,
  .list-group-item.active:hover {
    color: #eee;
  }

  .ui-template-list .list-group-item .list-group-item-heading {
    color: #eee;
  }

  .ui-template-list .list-group-item.active .list-group-item-heading {
    color: #eee;
  }

  .ui-template-list .list-group-item:hover {
    background: #4d4d4d !important;
  }

  .ui-template-item-menu {
    color: #eee !important;
  }

  .ui-template-list .list-group-item {
    color: #fff;
  }

  .ui-template-list .list-group-item .dropdown-container.open {
    background-color: #2a2a2a;
  }

  .ui-template-list .list-group-item .dropdown-container:hover {
    background-color: #2a2a2a !important;
  }

  .template-menu .more-template {
    border-color: #6d6d6d;
  }

  .template-menu .more-template:hover {
    color: #eee;
    border-color: #6d6d6d;
  }

  /*--------------- code mirror ---------------*/
  .modal-content {
    background: #1f2226;
  }

  .modal-header {
    border-bottom: 1px solid #46484f;
  }

  .modal-footer {
    border-top: 1px solid #46484f;
  }

  a.list-group-item {
    background: #1f2226;
    color: #ddd;
    border: 1px solid #46484f;
  }

  a.list-group-item .list-group-item-heading {
    color: #ddd;
  }

  a.list-group-item:focus,
  a.list-group-item:hover {
    background: #434651;
    color: #ddd;
  }

  button.close {
    color: #ddd;
    opacity: .5;
  }

  .close:focus, .close:hover {
    color: #fff;
    opacity: .8;
  }

  .CodeMirror {
    background: #1f2226;
  }

  .CodeMirror-gutters {
    background: #1f2226;
    border-right: 1px solid rgba(204, 217, 255, 0.1);
  }

  .cm-s-default .cm-comment {
    color: #888;
  }

  .cm-s-default .cm-quote {
    color: #ddd;
  }

  .cm-s-default .cm-header {
    color: #ffa653;
  }

  .cm-s-default .cm-link {
    color: #b0ee83;
  }

  .cm-s-default .cm-string,
  .cm-s-default .cm-variable-2 {
    color: #7bf;
  }

  .cm-s-default .cm-def {
    color: #c678dd;
  }

  .cm-s-default .cm-number,
  .cm-s-default .cm-attribute,
  .cm-s-default .cm-qualifier,
  .cm-s-default .cm-plus,
  .cm-s-default .cm-atom {
    color: #eda35e;
  }

  .cm-s-default .cm-property,
  .cm-s-default .cm-variable,
  .cm-s-default .cm-variable-3,
  .cm-s-default .cm-operator,
  .cm-s-default .cm-bracket {
    color: #f76e79;
  }

  .cm-s-default .cm-keyword,
  .cm-s-default .cm-builtin,
  .cm-s-default .cm-tag {
    color: #98c379;
  }

  .modal-title {
    color: #ccc;
  }

  .modal-body {
    color: #ccc !important;
  }

  div[contenteditable]:empty:not(:focus):before {
    color: #aaa;
  }

  .CodeMirror pre {
    color: #ddd;
  }

  .CodeMirror pre span[style^="background-color: rgb(221, 251, 230)"] {
    background-color: #288c27 !important;
  }

  .CodeMirror pre span[style^="background-color: rgb(249, 215, 220)"] {
    background-color: #a52721 !important;
  }

  /*------- code highlight: Visual Stutdio Code theme for highlight.js -------*/
  .hljs {
    background: #1E1E1E;
    color: #DCDCDC;
  }

  .hljs-keyword,
  .hljs-literal,
  .hljs-symbol,
  .hljs-name {
    color: #569CD6;
  }

  .hljs-link {
    color: #569CD6;
    text-decoration: underline;
  }

  .hljs-built_in,
  .hljs-type {
    color: #4EC9B0;
  }

  .hljs-number,
  .hljs-class {
    color: #B8D7A3;
  }

  .hljs-string,
  .hljs-meta-string {
    color: #D69D85;
  }

  .hljs-regexp,
  .hljs-template-tag {
    color: #d16969;
  }

  .hljs-title {
    color: #dcdcaa;
  }

  .hljs-subst,
  .hljs-function,
  .hljs-formula {
    color: #DCDCDC;
  }

  .hljs-comment,
  .hljs-quote {
    color: #57A64A;
  }

  .hljs-doctag {
    color: #608B4E;
  }

  .hljs-meta,
  .hljs-meta-keyword,
  .hljs-tag {
    color: #9B9B9B;
  }

  .hljs-variable,
  .hljs-template-variable {
    color: #BD63C5;
  }

  .hljs-params,
  .hljs-attr,
  .hljs-attribute,
  .hljs-builtin-name {
    color: #9CDCFE;
  }

  .hljs-section {
    color: gold;
  }

  .hljs-emphasis {
    font-style: italic;
  }

  .hljs-strong {
    font-weight: bold;
  }

  /*
  .hljs-code {
    font-family:'Monospace';
  }
  */

  .hljs-bullet,
  .hljs-selector-tag,
  .hljs-selector-id,
  .hljs-selector-class,
  .hljs-selector-attr,
  .hljs-selector-pseudo {
    color: #D7BA7D;
  }

  .hljs-addition {
    background-color: #155a36;
    color: #dfdfdf;
    display: inline-block;
    width: 100%;
  }

  .hljs-deletion {
    background-color: #872e2e;
    color: #dfdfdf;
    display: inline-block;
    width: 100%;
  }

  /*---------- code highlight: Visual Stutdio Code theme for Prism.js ----------*/
  code[class*="language-"],
  pre[class*="language-"] {
    color: #DCDCDC;
  }

  :not(pre)>code[class*="language-"],
  pre[class*="language-"] {
    background: #1E1E1E;
  }

  .token.comment,
  .token.block-comment,
  .token.prolog,
  .token.cdata {
    color: #57A64A;
  }

  .token.doctype,
  .token.punctuation {
    color: #9B9B9B;
  }

  .token.tag,
  .token.entity {
    color: #569CD6;
  }

  .token.attr-name,
  .token.namespace,
  .token.deleted,
  .token.property,
  .token.builtin {
    color: #9CDCFE;
  }

  .token.function,
  .token.function-name {
    color: #dcdcaa;
  }

  .token.boolean,
  .token.keyword,
  .token.important {
    color: #569CD6;
  }

  .token.number {
    color: #B8D7A3;
  }

  .token.class-name,
  .token.constant {
    color: #4EC9B0;
  }

  .token.symbol {
    color: #f8c555;
  }

  .token.rule {
    color: #c586c0;
  }

  .token.selector {
    color: #D7BA7D;
  }

  .token.atrule {
    color: #cc99cd;
  }

  .token.string,
  .token.attr-value {
    color: #D69D85;
  }

  .token.char {
    color: #7ec699;
  }

  .token.variable {
    color: #BD63C5;
  }

  .token.regex {
    color: #d16969;
  }

  .token.operator {
    color: #DCDCDC;
    background: transparent;
  }

  .token.url {
    color: #67cdcc;
  }

  .token.important,
  .token.bold {
    font-weight: bold;
  }

  .token.italic {
    font-style: italic;
  }

  .token.entity {
    cursor: help;
  }

  .token.inserted {
    color: green;
  }

  /*---------- code highlight: dark theme for Gist ----------*/
  .gist .gist-file {
    border: 1px solid #555;
  }

  .gist .gist-data {
    background-color: #1e1e1e;
    border-bottom: 1px solid #555;
  }

  .gist .gist-meta {
    background-color: #424a55;
    color: #eee;
  }

  .gist .gist-meta a {
    color: #eee;
  }

  .gist .highlight {
    color: #eee;
    background-color: #1e1e1e;
  }

  .gist .blob-num {
    color: #afafaf;
  }

  .gist .blob-code-inner {
    color: #dfdfdf;
  }

  .pl-mb {
    color: #fff !important;
  }

  .pl-c {
    color: #57A64A !important;
  }

  /* comment */
  .pl-ent {
    color: #569CD6 !important;
  }

  /* entity */
  .pl-e {
    color: #9CDCFE !important;
  }

  .pl-en {
    color: #4EC9B0 !important;
  }

  /* entity attribute */
  .pl-smi {
    color: #9CDCFE !important;
  }

  .pl-k {
    color: #569cd6 !important;
  }

  .pl-c1,
  .pl-s .pl-v {
    color: #4EC9B0 !important;
  }

  .pl-pds,
  .pl-s,
  .pl-s .pl-pse .pl-s1,
  .pl-sr,
  .pl-sr .pl-cce,
  .pl-sr .pl-sra,
  .pl-sr .pl-sre,
  .pl-s .pl-s1 {
    color: #D69D85 !important;
  }

  .pl-s .pl-s1 .pl-pse {
    color: #c5dbff !important;
  }

  /* strings */
  .diff-table .pl-c,
  .diff-table .pl-ent,
  .diff-table .pl-e,
  .diff-table .pl-en,
  .diff-table .pl-pds,
  .diff-table .pl-s,
  .diff-table .pl-s .pl-s1,
  .diff-table .pl-s .pl-pse .pl-s1,
  .diff-table .pl-sr,
  .diff-table .pl-sr .pl-cce,
  .diff-table .pl-sr .pl-sra,
  .diff-table .pl-sr .pl-sre,
  .diff-table .pl-k,
  .diff-table .pl-smi,
  .diff-table .pl-c1,
  .diff-table .pl-v {
    color: #eee !important;
  }

 </style>



###### tags: `Plus` `SQL` `Redis`

# SQL 學習 & Redis

## 安裝PostgreSQL:


```bash
# 查看 PostgreSQL 版本資訊
apt-cache show postgresql
# 安裝 postgresql-10
sudo apt install postgresql-10 postgresql-contrib
# 查看 PostgreSQL 服務狀態
systemctl status postgresql.service
```


```bash
# 下載 PostgreSQL 套件庫資訊
wget https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm

# 安裝 PostgreSQL 套件庫資訊與 EPEL
sudo yum install pgdg-redhat-repo-latest.noarch.rpm epel-release

# 安裝 10 版 PostgreSQL
sudo yum install postgresql10-server postgresql10-contrib
# 查看 PostgreSQL 服務狀態
systemctl status postgresql.service
```


## 使用PostgreSQL:


```bash
sudo su postgres
##postgres

psql --version 
##確認版本

cd /var/lib/postgresql
##進入postgresql根目錄

psql -l
##確認已建立資料庫
##template0~1為板模數據庫

psql dbName
##進入dbName資料庫

createdb dbName
##創建dbName資料庫

dropdb dbName
##刪除dbName資料庫


create table TableName (title varchar(255), content text);
##創建表格
\dt
##查詢資料庫table
\d TableName
##查詢表格內容


alter table posts TableNameOLD to TableNameNEW
\dt;
##對表格更名

\q
##離開


\i Example.sql
## 執行該檔案命令

\x
## 表格呈現橫向顯示

```


```bash
## 創建表格

ceate table TableName(
    id serial primary key,
    title varchar(255) not null,
    content text check(length(content) > 3),
    is_del boolean default FALSE,
    created_date timestamp default 'now'
);

# not null不能為空
# unique:必須唯一存在
# primary key(not null, unique): 不能為空+必須唯一存在
# check: 屬性設置條件
# default: 屬性默認值

```


## SQL基本語法分類:

https://www.1keydata.com/tw/sql/sql-alter-table.html

**(1) 資料定義語言(Data Definition Language,DDL):**

==`CREATE`== : 創建表格
```sql

CREATE TABLE "表格名"
("欄位名稱1" "資料型別1" "欄位條件",
"欄位名稱2" "資料型別2" "欄位條件",
... )

CREATE TABLE TableName(
    id serial primary key,
    title varchar(255) not null,
    content text check(length(content) > 3),
    is_del boolean default FALSE,
    created_date timestamp default 'now'
);

```

```sql
CREAT VIEW CVName SELECT (TN1.C1,TN2.C2) FROM (TableName1 as TN1,TableName2 as TN2) WHERE TN1.C1=TN2.C2;
/* 列出TableName1.C2等於TableName2.C2之中顯示出TableName1.C1兩者TableName2.C2並列表格(其中將TableName1作縮寫TN1)  */
/* 將上敘述指令值型結果編制成 CVName */
SELECT * FROME CVName;
/* 可重複使用CVName簡化指令 */
DROP VIEW CVName;
```

==`ALTER`== : 改變表格
```sql

ALTER TABLE TableName ADD ContentName char(1);
/* 在表格TableName加入新欄位ContentName */

ALTER TABLE TableName DROP ContentName;
/* 在表格TableName中將ContentName欄位刪除 */

ALTER TABLE TableNameOLD RENAME TO TableNameNEW;
/* 在表格TableNameOLD名稱改成TableNameNEW */

ALTER TABLE TableName RENAME ContentNameOLD to ContentNameNEW
/* 在表格TableName中將ContentNameOLD欄位名稱改成ContentNameNEW */

ALTER TABLE TableName ALTER ContentName type char(30);
/* 將表格TableName中將ContentName欄位資料型別改成 char(30) */

```

==`DROP`== : 刪除表格(危險)
```sql
DROP TABLE Customer;
```

**(2) 資料處理語言(Data Manipulation Language,DML):**

==`INSERT`== : 插入表格
```sql
INSERT INTO 表格名 (欄位1, 欄位2, ...) VALUES (值1, 值2, ...);
INSERT INTO TableName (ContentName1,ContentName2) VALUES ('Los Angeles', 900);
```

==`UPDATE`== : 更新表格
```sql
UPDATE 表格名 SET 欄位名 = (值表示式) WHERE (條件式);
UPDATE TableName SET ContentName = (ContentName+1) WHERE (ContentName) IS NOT NULL;
/* 將表格TableName之ContentName欄位內符合不為空值，其值更新為原本值+1 */
```

==`DELETE`== : 刪除表格
```sql
DELETE FROM 表格名 WHERE (條件式);
```

==`SELECT`== : 選取表格
```sql
SELECT (欄位1, 欄位2, ...) FROM 表格名;
SELECT * FROM TableName;
/* 將選擇表格TableName所有內容 */


SELECT (欄位1, 欄位2, ...) FROM 表格名 ORDER BY (欄位1,欄位2, ...) ASC;
SELECT (欄位1, 欄位2, ...) FROM 表格名 ORDER BY (欄位1,欄位2, ...) DESC;
SELECT * FROM TableName ORDER BY (ContentName1,ContentName2) ASC;
/* 將選擇表格TableName所有內容，並依欄位名升序排列 */


SELECT (欄位1, 欄位2, ...) FROM 表格名 ORDER BY (欄位1,欄位2, ...) ASC;
SELECT (欄位1, 欄位2, ...) FROM 表格名 ORDER BY (欄位1,欄位2, ...) DESC;
SELECT * FROM TableName ORDER BY (ContentName1,ContentName2) ASC;
/* 將選擇表格TableName所有內容，並依欄位名升序排列 */

SELECT * FROM TableName ORDER BY (ContentName1) ASC LIMIT 3;
/* 將選擇表格TableName所有內容，並依欄位名升序排列，限取前三名 */
SELECT * FROM TableName ORDER BY (ContentName1) ASC LIMIT 3 OFFSET 2;
/* 將選擇表格TableName所有內容，並依欄位名升序排列，限取三名(第3~5名) */


SELECT DISTINCT 欄位名 FROM 表格名;
/* 列舉表格內欄位名的所有項目(不重複) */

SELECT SUM 欄位名 FROM 表格名;
/* 計算表格內欄位名的總和 */

SELECT MAX 欄位名 FROM 表格名;
/* 顯示表格內欄位名的最大值 */


SELECT COUNT (欄位名) FROM 表格名 WHERE 欄位名 IS NOT NULL;
/* 計算表格內欄位名的數量(不包含空值) */

SELECT * FROM TableName WHERE ContentName1 = (SELECT MAX(ContentName2) FROM TableName);
/* 顯示TableName中ContentName1值符合等於ContentName2欄位中的最大值者  */

SELECT (CTeam,MAX(CScore)) FROM TableName GROUP BY (CTeam) HAVING MAX(CScore)>=25;
/* 顯示CTeam和最大CScore欄位並依CTeam欄位取樣，限定最大CScore值必須大於25  */

SELECT (TableName1.C1,TableName2.C1) FROM (TableName1,TableName2) WHERE TableName1.C2=TableName2.C2;
/* 列出TableName1.C2等於TableName2.C2之中顯示出TableName1.C1兩者TableName2.C2並列表格  */

SELECT (TN1.C1,TN2.C2) FROM (TableName1 as TN1,TableName2 as TN2) WHERE TN1.C1=TN2.C2;
/* 列出TableName1.C2等於TableName2.C2之中顯示出TableName1.C1兩者TableName2.C2並列表格(其中將TableName1作縮寫TN1)  */

```

==`SELECT`== 函數:
|符號|功能|
|-|-|
|SUM|總和|
|MIN|最小值|
|MAX|最大值|
|AVG|平均|
|LENGTH|計算字元長度|
|LEN|計算字元長度(MS)|
|COUNT|計算數量|

==`Join`== 集合:
![](https://lh3.googleusercontent.com/NoWumHxZ-kO2ZPgD4kFsFg6-7UMfStE8UQK83d6aMmWXZzjJvWL-r5EXojHEL0CmzCp_2g0z5MAl8LBvMM7z8iGb-FBBhZulTtikZ2mDoM0EpMVcwhqhKuyHzoPOCxxBdLL28K18WH7xEtMUHK18mayopPLWaG7RAjET0MzJw4VzEAQIrlvHDKn3YeaZn8s4OTuHBVsjS_JqcWDmNmTTt4pO7k1nAY4Crxn3cJD5NRU2Sp89VPcV5wZqg7dM08UBwqx2BTuiKEfRfjVGGFNgSGOIw-JLK2kniQ8gid6EQm27b4hITbVGN4wQlqmDvBeM_-3fuPr_5I6xah9N2rXqi-Fbx75Gs1hdHJAYEEHI7tVWltVjwicYigh8_xDM-eiVnbV71MUgmx79SB3kreuYuUT-hbgTDGpOAcpqOZ64y5L661y2vKRTfpDDtip-OJOPJOHEmF1mPKtxBXW6kWSEiFtJ7EcvVa0f5H8-BCy9Ty_pX77mGhvM6DzS-m6EpHjd1AWIxReUmuO3-4idbRtluQIhy3_huUz0xEzTm8iPy86MjlBVfGaWhN8HspA3Iwt0kFyJk9o_16rX-UDYpt1AhC0Y1lkUnGBE1qZ7PDBkOdwK0Rg-XHk6EPITdgTxhmux6K2l5SHh-Em0-V0Y70940Ats7XFAfOlXM2X_ibyKPlZ6GBoy3VTRr05D=w600-h472-no)




**(3) 資料控制語言(Data Control Language,DCL):**

==`GRANT`== : 開啟權限設置
```sql
GRANT DELETE,INSERT,SELECT,QUERY REWRITE ON TableName TO User01 ;
/* 將 TableName表格中的DELETE,INSERT,SELECT,QUERY REWRITE 權限開放給User01*/
```

==`REVOLE`== : 取消權限設置
```sql
REVOKE DELETE,INSERT,SELECT ON TableName FROM User01;
/* 將 TableName表格中的DELETE,INSERT,SELECT,QUERY REWRITE 權限取消自User01*/
```

**(4) 交易控制語言(Transaction Control Language,TCL):**


==`START TRANSACTION 或 BEGIN`== : 開始交易
```sql
START TRANSACTION;
BEGIN;
```

==`COMMIT`== : 將開始交易的過程的執行結果提交

==`SAVEPOINT`== : 在交易過程中設置儲存點

==`ROLLBACK`== : 回復交易設置儲存點或開始前
```sql
BEGIN;
...
ROLLBACK;
#回復交易開始前
```
```sql
BEGIN;
...
SAVEPOINT SV1;
...
ROLLBACK TO SV1;
#回復存點SV1以前的狀態
```


**其他 Clause 條件語句 & 運算子**

==`WHERE`== 運算子:
|符號|功能|例舉|說明|
|-|-|-|-|-|
|IS NOT NULL||||
|and||||
|or||||
|>||||
|<||||
|=||||
|!=||||


==`LIKE`== 運算子:
|符號|功能|例舉|說明|
|-|-|-|-|-|
|_|任一字元|'A_Z'|'A' 起頭'Z' 為結尾中間字元任一，'A1Z' 和 'A?Z' 都符合。|
|%|開頭或結尾字元|'A%'|'A' 起頭後面字元與長度任一，'A1Z' 和 'A?Z' 都符合。|







## SQL資料型別:

https://html5-editor.net/
https://www.tablesgenerator.com/markdown_tables

<table cellspacing="5" cellpadding="0">
<tbody>
<tr><td>
<p>數字型態
<div>
<table cellspacing="1" cellpadding="0">
<tbody>
<tr><td>
<p>型態</p>
</td><td>
<p>空間需求</p>
</td><td>
<p>範圍</p>
</td></tr>
<tr><td>
<p>TINYINT[(M)]</p>
</td><td>
<p>1 byte</p>
</td><td>
<p>Signed: -128 to 127 (-2^7 to 2^7 -1) <br> Unsigned: 0 to 255 (0 to 2^8 -1)</p>
</td></tr>
<tr><td>
<p>SMALLINT[(M)]</p>
</td><td>
<p>2 bytes</p>
</td><td>
<p>Signed: -32768 to 32767 (-2^15 to 2^15 -1) <br> Unsigned: 0 to 65535 (0 to 2^16 -1)</p>
</td></tr>
<tr><td>
<p>MEDIUNINT[(M)]</p>
</td><td>
<p>3 bytes</p>
</td><td>
<p>Signed: -8388608 to 8388607 (-2^23 to 2^23 -1) <br> Unsigned: 0 to 16777215 (0 to 2^24 -1)</p>
</td></tr>
<tr><td>
<p>INT[(M)]<br> INTEGER[(M)]</p>
</td><td>
<p>4 bytes</p>
</td><td>
<p>Signed: -2147483648 to 2147483647 (-2^31 to 2^31 -1) <br> Unsigned: 0 to 4294967295 (0 to 2^32 -1)</p>
</td></tr>
<tr><td>
<p>BIGINT[(M)]</p>
</td><td>
<p>8 bytes</p>
</td><td>
<p>Signed: (-2^63 to 2^63 -1) <br> Unsigned: (0 to 2^64 -1)</p>
</td></tr>
<tr><td>
<p>FLOAT(precision)</p>
</td><td>
<p>4 or 8</p>
</td><td>
<p>若 precision &lt;= 24 的話，視為 FLOAT （單精數） <br> 若 25 &lt;= precision &lt;= 53 的話，則視為 DOUBLE （倍精數）</p>
</td></tr>
<tr><td>
<p>FLOAT[(M,D)]</p>
</td><td>
<p>4 bytes</p>
</td><td>
<p>&plusmn;1.175494351E-38 &plusmn;3.402823466E+38</p>
</td></tr>
<tr><td>
<p>DOUBLE[(M,D)]<br> REAL[(M,D)]</p>
</td><td>
<p>8 bytes</p>
</td><td>
<p>&plusmn;1.7976931348623157E+308 &plusmn;-2.2250738585072014E-308</p>
</td></tr>
<tr><td>
<p>DECIMAL[(M[,D])]<br> DEC[(M[,D])] <br> NUMERIC[(M[,D])]</p>
</td><td>
<p>M+2</p>
</td><td>
<p>依 M 與 D 值而定</p>
</td></tr>
</tbody>
</table>
</div>
</td></tr>
<tr><td>
<p>上表中的 M 代表「最大顯示寬度」，其值不得大於 255 上表中的 D 代表「小數位數」，其值不得大於 30 ，也不能大於 M-2 。</p>
</td></tr>
</table>

<table>
<tr><td>
<p>日期與時間型態</p>
</td></tr>
<tr><td>
<div>
<table cellspacing="1" cellpadding="0">
<tbody>
<tr><td>
<p>型態</p>
</td><td>
<p>空間需求</p>
</td><td>
<p>範圍</p>
</td></tr>
<tr><td>
<p>DATE</p>
</td><td>
<p>3 bytes</p>
</td><td>
<p>'1000-01-01' to '9999-12-31'</p>
</td></tr>
<tr><td>
<p>TIME</p>
</td><td>
<p>3 bytes</p>
</td><td>
<p>'-838:59:59' to '838:59:59'</p>
</td></tr>
<tr><td>
<p>DATETIME</p>
</td><td>
<p>8 bytes</p>
</td><td>
<p>'1000-01-01 00:00:00' to '9999-12-31 23:59:59'</p>
</td></tr>
<tr><td>
<p>TIMESTAMP[(M)]</p>
</td><td>
<p>4 bytes</p>
</td><td>
<p>自 1970 年起，至 2037 年的某時</p>
</td></tr>
<tr><td>
<p>YEAR[(2 | 4)]</p>
</td><td>
<p>1 bytes</p>
</td><td>
<p>4-digit format: 1901 to 2155<br> 2-digit format: 1970 to 2069</p>
</td></tr>
</tbody>
</table>
</div>
</td></tr>
<tr><td>
<p>在使用 TIMESTAMP 型態時，您可以指定「最大顯示寬度」，就是 M 。不同的 M 值與儲存所需空間無關，而是與顯示的格式有關。請見下表：</p>
</td></tr>
<tr><td>
<div>
<table cellspacing="0" cellpadding="0">
<tr><td>
<p>型態</p>
</td><td>
<p>顯示格式</p>
</td></tr>
<tr><td>
<p>TIMESTAMP(14)</p>
</td><td>
<p>YYYYMMDDHHMMSS</p>
</td></tr>
<tr><td>
<p>TIMESTAMP(12)</p>
</td><td>
<p>YYMMDDHHMMSS</p>
</td></tr>
<tr><td>
<p>TIMESTAMP(10)</p>
</td><td>
<p>YYMMDDHHMM</p>
</td></tr>
<tr><td>
<p>TIMESTAMP(8)</p>
</td><td>
<p>YYYYMMDD</p>
</td></tr>
<tr><td>
<p>TIMESTAMP(6)</p>
</td><td>
<p>YYMMDD</p>
</td></tr>
<tr><td>
<p>TIMESTAMP(4)</p>
</td><td>
<p>YYMM</p>
</td></tr>
<tr><td>
<p>TIMESTAMP(2)</p>
</td><td>
<p>YY</p>
</td></tr>
<br>
</td></tr>
</tbody>
</table>
<tbody>
<table>


<table cellspacing="5" cellpadding="0">
<tbody>
<tr>
<td>
<p>字串型態</p>
</td>
</tr>
<tr>
<td>
<div>
<table cellspacing="1" cellpadding="0">
<tbody>
<tr>
<td>
<p>型態</p>
</td>
<td>
<p>空間需求</p>
</td>
<td>
<p>最大長度</p>
</td>
</tr>
<tr>
<td>
<p>CHAR(M)</p>
</td>
<td>
<p>M bytes</p>
</td>
<td>
<p>M bytes</p>
</td>
</tr>
<tr>
<td>
<p>VARCHAR(M)</p>
</td>
<td>
<p>L+1 bytes</p>
</td>
<td>
<p>M bytes</p>
</td>
</tr>
<tr>
<td>
<p>TINYBLOB, TINYTEXT</p>
</td>
<td>
<p>L+1 bytes</p>
</td>
<td>
<p>2^8 -1 bytes</p>
</td>
</tr>
<tr>
<td>
<p>BLOB, TEXT</p>
</td>
<td>
<p>L+2 bytes</p>
</td>
<td>
<p>2^16 -1 bytes</p>
</td>
</tr>
<tr>
<td>
<p>MEDIUMBLOB, MEDIUMTEXT</p>
</td>
<td>
<p>L+3 bytes</p>
</td>
<td>
<p>2^24 -1 bytes</p>
</td>
</tr>
<tr>
<td>
<p>LONGBLOB, LONGTEXT</p>
</td>
<td>
<p>L+4 bytes</p>
</td>
<td>
<p>2^32 -1 bytes</p>
</td>
</tr>
<tr>
<td>
<p>ENUM( 'value1','value2',...)</p>
</td>
<td>
<p>1 or 2 bytes</p>
</td>
<td>
<p>65535 個成員</p>
</td>
</tr>
<tr>
<td>
<p>SET( 'value1','value2',...)</p>
</td>
<td>
<p>1, 2, 3, 4, or 8 bytes</p>
</td>
<td>
<p>64 個成員</p>
</td>
</tr>
</tbody>
</table>
</div>
</td>
</tr>
<tr>
<td>
<p>上表中的 L 代表「實際儲存的空間大小」，上述多種型態的空間需求都與實際存入的空間大小有關，意即，它們的空間需求是變動的。</p>
</td>
</tr>
<tr>
<td>
<p>CHAR 與 VARCHAR</p>
<table cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td>
<p>字串內容</p>
</td>
<td>
<p>CHAR(4)</p>
</td>
<td>
<p>空間需求</p>
</td>
<td>
<p>VARCHAR(4)</p>
</td>
<td>
<p>空間需求</p>
</td>
</tr>
<tr>
<td>
<p>''</p>
</td>
<td>
<p>' '</p>
</td>
<td>
<p>4 bytes</p>
</td>
<td>
<p>''</p>
</td>
<td>
<p>1 byte</p>
</td>
</tr>
<tr>
<td>
<p>' ab '</p>
</td>
<td>
<p>' ab '</p>
</td>
<td>
<p>4 bytes</p>
</td>
<td>
<p>' ab '</p>
</td>
<td>
<p>3 bytes</p>
</td>
</tr>
<tr>
<td>
<p>' abcd '</p>
</td>
<td>
<p>' abcd '</p>
</td>
<td>
<p>4 bytes</p>
</td>
<td>
<p>' abcd '</p>
</td>
<td>
<p>5 bytes</p>
</td>
</tr>
<tr>
<td>
<p>' abcdefgh '</p>
</td>
<td>
<p>' abcd '</p>
</td>
<td>
<p>4 bytes</p>
</td>
<td>
<p>' abcd '</p>
</td>
<td>
<p>5 bytes</p>
</td>
</tr>
</tbody>
</table>
</div>
</td>
</tr>

<tr>
<td>
<p>VARCHAR 和各類 TEXT 與 BLOB 都是長度可變的型態，這是它最大的優點；檢索時擁有較佳的效率，則是 CHAR 的長處。</p>
</td>

<tr>
<td>
<p>BLOB 的全名是「 binary large object 」，與 TEXT 一樣，都是用來儲存長度較長的字串或是二元資料。兩者大同小異，唯一的差別在於， TEXT 是有區分大小寫的，而 BLOB 不分。</p>
</td>


<tr>
<td>
<p>ENUM 與 SET 是特別的字串型態，有人稱之為「列舉（ enumeration ）」型態。這兩種欄位的值只能從固定的項目中挑選，不能隨心所欲的存入資料。舉個例子來看，我們想調查使用者的性別與年齡分布狀況，所以設定了以下兩種欄位：</p>
</td>

</tbody>
</table>


## Redis 安裝

```bash
##Ubuntu 安裝步驟
sudo apt-get update
sudo apt-get upgrade
sudo apt-get install redis-server
sudo systemctl enable redis-server.service

## redis安裝檔位於 : /etc/redis/redis.conf
# daemonize no → 設定背景執行(服務)
# maxmemory 256mb  → 配置内存限额
# maxmemory-policy volatile-lru → 配置淘汰策略
sudo systemctl restart redis-server.service #重啟伺服器


## redis的一般指令
redis-benchmark #性能測試
redis-check-aof #修復AOF文件
redis-check-dump #修復有問題的dump.rdb
redis-sentinel #redis集群
redis-server#確認起動狀態
redis-cli #客戶端介面登入
redis-cli shutdown #關閉server
/etc/init.d/redis-server stop 停止server背景執行

## redis-cli 客戶端介面
select 8 #切換編號8數據庫，默認有編號0~15的數據庫
keys * #查詢所有key
keys ? #查詢字元數為1的key
keys ?? #查詢字元數為2的key
keys [1-3]* #查詢1*和2*和3*的key

set "測試" "數值" #
exists keyname #判斷keyname是否存在，存在返回1否則返回0
type keyname #查詢該keyname的數據類型
expire key second #為健值設置過期時間(秒)，返回設置成功數1
ttl key #查看key還有多少秒過期(-1永不、-2已過期)

dbsize #查看當前數據庫數量
flushdb #清空當前庫
flushall #清空所有

```
```
*key&value單個長度限制512MB
*key數量最高限制為2^32

get key 查詢健值
set
append key value 將原先value增加value 成功後返回字串總長
strlen key 獲得長度
setnx key value key不存在狀況下創建新的KV 回傳創建成功1

incr key 將key儲存值+1(空值視為0)，非數值將返回錯誤
decr key key值-1 
incrby key add key
decrby key --
```

## String 單鍵單值(無次序)


```
mset key1 value1 key2 value2 
mget key1 key2 無健者將回傳nil
msetnx key1 value1 key2 value2  必須在全部不存在狀況下才能更改成功

getrange key 0 3 取的該value中1~4的字元(-2表示最後第二位，-1表示最後一位)
setrange key 3 value 將該value第四位字元後面取代成vaule 
setex key 秒 value 重新設定該key過渡時間
getset key value 效果等同set，但設定完成會返回舊values

##list 單鍵多值(次序性的管道)
lpush key value1 value2 ... 將管道由左側存入值
rpush key value1 value2 ...  將管道由右側存入值
lpop key 將管道值由左吐出，管道若為空將會自動刪除
rpop key
rpoplpush key1 key 2將最後邊的值取出後並存入另一管道的左側
lrange key 0 3 取的該value中1~4的字元(list)
lindex key index 通過索引取出元素
LLEN key 獲取list長度
LINSERT key BEFORE value svalue //在value的右邊插入值，由左至右開始
LINSERT key AFTER  value svalue //在value的左邊插入值，由左至右開始
Lrem lkey  0 value 刪除符合value值的元素
Lrem lkey  2 value 刪除符合value值的元素2個(由左置右)
Lrem lkey  3 value 刪除符合value值的元素3個(由右置左)

##set 單鍵多值(值不重複)
sadd key v1 v2 將原宿加入set中
smembers key  顯示所有key
smembers key value  顯示是否有該value值，是則返回1否則返回0
sinter key1 key2 返回兩set的交集
sunion key1 key2 返回兩set的並集
sdiff key1 key2 返回兩set的差集(key1-key2)

##Hash 單鍵多(屬性+值) 2³² - 1
hset key field value
hget key field
hgetall key
hmset  key field1 value1 field2 value2 
hexists key field 檢查是否存在(返回1)
hvals key 列出該hash所有的field
hkeys key 列出該hash所有的value
hincrby key field 增加值 將hash之field的value增加值(值必須為空或數值才行)
hsetnx key field value 將hash加入 field-value(在該屬性-值不存在情況下)

##zset 單鍵多(排序+值)
zadd  key score1 value1 score2 value2 
zrange key 0 2 返回次序1~3所有值
zrange key 0 -1 withscores 返回所有值語分數
zrangebyscore key -inf +inf WITHSCORES 顯是所有值

zrangebyscore key min max [WITHSCORES] [LIMIT offset count]
返回該值之 min<score<=max之間的值
zrevrangebyscore key min max [WITHSCORES] [LIMIT offset count]
```


